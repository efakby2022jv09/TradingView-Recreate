(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[62639,9726,52280],{755275:e=>{e.exports={"tv-spinner__container-rotate":"tv-spinner__container-rotate-OAzoNsnS"}},749028:(e,t,i)=>{"use strict";i.d(t,{saveExchangeAgreement:()=>r,isSignedExchangeAgreement:()=>a});var n=i(86674),s=i(145619);function r(e){return(0,n.fetch)("/exchange-agreement/",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then((e=>e.ok?e.json():e.json().then((t=>{throw new s.AggregateError((0,s.accumulateErrors)(t.errors,e.status))}))))}async function a(e){const t=await(0,n.fetch)(`/is-signed-exchange-agreement/?exchange=${e.exchange}`);if(!t.ok){const e=await t.json();throw Error(e.detail)}return t.json()}},607436:(e,t,i)=>{"use strict";i.d(t,{DEFAULT_SIZE:()=>n,spinnerSizeMap:()=>s});const n="large",s={mini:"xsmall",xsmall:"xsmall",small:"small",medium:"medium",large:"large"}},941285:(e,t,i)=>{"use strict";i.d(t,{Spinner:()=>a});i(755275);var n=i(698969),s=i(607436);const r=(0,n.parseHtmlElement)(function(e=""){return`<div class="tv-spinner ${e}" role="progressbar"></div>`}());class a{constructor(e){this._shown=!1,this._el=r.cloneNode(!0),this.setSize(s.spinnerSizeMap[e||s.DEFAULT_SIZE])}spin(e){return this._el.classList.add("tv-spinner--shown"),void 0===this._container&&(this._container=e,void 0!==e&&e.appendChild(this._el)),this._shown=!0,this}stop(e){return e&&void 0!==this._container&&this._container.removeChild(this._el),this._el.classList.remove("tv-spinner--shown"),this._shown=!1,this}setStyle(e){return Object.keys(e).forEach((t=>{const i=e[t];void 0!==i&&this._el.style.setProperty(t,i)})),this}style(){return this._el.style}setSize(e){const t=void 0!==e?`tv-spinner--size_${e}`:"";return this._el.className=`tv-spinner ${t} ${this._shown?"tv-spinner--shown":""}`,this}getEl(){return this._el}destroy(){this.stop(),delete this._el,delete this._container}}},377884:(e,t,i)=>{"use strict";function n(e,t){return e<t}function s(e,t,i,n,s){let r=s-n;for(;0<r;){const s=r>>1,a=n+s;i(e(a),t)?(n=a+1,r-=s+1):r=s}return n}function r(e,t,i,n=0,r=e.length){return s((t=>e[t]),t,i,n,r)}function a(e,t,i=0,s=e.length){return r(e,t,n,i,s)}function o(e,t,i,n=0,s=e.length){let r=s-n;for(;0<r;){const s=r>>1,a=n+s;i(t,e[a])?r=s:(n=a+1,r-=s+1)}return n}function h(e,t){return e.filter((e=>!t.includes(e)))}function l(e,t){const i=e.indexOf(t);return i<0?e.slice():[t].concat(e.slice(0,i)).concat(e.slice(i+1))}function c(e,t,i){const n=new Set(t),s=[],r=[],o=[];return e.forEach(((e,t)=>{n.has(e)?r.push(e):(s.push(e),o.push(t))})),i=i<e.length-1?a(o,i+1):s.length,s.splice(i,0,...r),{newItems:s,movedItemsStartIndex:i}}function d(e,t,i){const n=new Set(t),s=[],r=[],o=[];return e.forEach(((e,t)=>{n.has(e)?r.push(e):(s.push(e),o.push(t))})),i=i<=e.length-1?a(o,i):s.length,s.splice(i,0,...r),{newItems:s,movedItemsStartIndex:i}}function u(e,t){const i=new Set;return e.forEach((e=>{t.has(e)&&i.add(e)})),i}i.d(t,{lowerboundExt:()=>s,lowerbound:()=>r,upperbound:()=>o,subtract:()=>h,moveToHead:()=>l,moveAfter:()=>c,
moveBefore:()=>d,intersect:()=>u})},752280:(e,t,i)=>{"use strict";i.r(t),i.d(t,{PlotRowSearchMode:()=>o,PlotList:()=>d,mergeMinMax:()=>u,mergePlotRows:()=>_});var n=i(588537),s=i(377884),r=i(676745);const a=(0,i(911905).getLogger)("Chart.PlotList");var o;!function(e){e[e.NearestLeft=-1]="NearestLeft",e[e.Exact=0]="Exact",e[e.NearestRight=1]="NearestRight"}(o||(o={}));const h=30;function l(e){return e.index}function c(e){return e.value[0]}class d{constructor(e=null,t=null){this._items=[],this._start=0,this._end=0,this._shareRead=!1,this._minMaxCache=new Map,this._rowSearchCacheByIndex=new Map,this._rowSearchCacheByIndexWithoutEmptyValues=new Map,this._rowSearchCacheByTime=new Map,this._rowSearchCacheByTimeWithoutEmptyValues=new Map,this._plotFunctions=e||new Map,this._emptyValuePredicate=t}clear(){this._items=[],this._start=0,this._end=0,this._shareRead=!1,this._minMaxCache.clear(),this._invalidateSearchCaches()}first(){return this.size()>0?this._items[this._start]:null}last(){return this.size()>0?this._items[this._end-1]:null}firstIndex(){return this.size()>0?this._indexAt(this._start):null}lastIndex(){return this.size()>0?this._indexAt(this._end-1):null}size(){return this._end-this._start}isEmpty(){return 0===this.size()}contains(e){return null!==this.search(e,o.Exact)}valueAt(e){const t=this.search(e);return null!==t?t.value:null}add(e,t){if(this._shareRead)return a.logDebug("add: readonly collection modification attempt"),!1;const i={index:e,value:t},n=this._nonCachedSearch(e,o.Exact,l);return this._invalidateSearchCaches(),null===n?(this._items.splice(this._lowerbound(e,l),0,i),this._start=0,this._end=this._items.length,!0):(this._items[n]=i,!1)}search(e,t=o.Exact,i){return this._searchImpl(e,t,this._rowSearchCacheByIndex,this._rowSearchCacheByIndexWithoutEmptyValues,l,i)}searchByTime(e,t=o.Exact,i){return this._searchImpl(e,t,this._rowSearchCacheByTime,this._rowSearchCacheByTimeWithoutEmptyValues,c,i)}fold(e,t){let i=t;for(let t=this._start;t<this._end;++t){i=e(this._indexAt(t),this._valueAt(t),i)}return i}findFirst(e,t){const i=void 0!==t&&Math.min(this._start+t,this._end)||this._end;for(let t=this._start;t<i;++t){const i=this._indexAt(t),n=this._valueAt(t);if(e(i,n))return{index:i,value:n}}return null}findLast(e,t){const i=void 0!==t&&Math.max(this._end-t,this._start)||this._start;for(let t=this._end-1;t>=i;--t){const i=this._indexAt(t),n=this._valueAt(t);if(e(i,n))return{index:i,value:n}}return null}each(e){for(let t=this._start;t<this._end;++t){if(e(this._indexAt(t),this._valueAt(t)))break}}reduce(e,t){let i=t;for(let t=this._start;t<this._end;++t){i=e(i,this._indexAt(t),this._valueAt(t))}return i}range(e,t){const i=new d(this._plotFunctions,this._emptyValuePredicate);return i._items=this._items,i._start=this._lowerbound(e,l),i._end=this._upperbound(t),i._shareRead=!0,i}rangeIterator(e,t){const i=this._lowerbound(e,l),n=this._upperbound(t);if(i===n)return{hasNext:()=>!1,next:()=>{throw new Error("Invalid operation")}};let s=i-1;return{hasNext:()=>s<n-1,next:()=>(s+=1,this._items[s])}}
minMaxOnRangeCached(e,t,i){if(this.isEmpty())return null;let n=null;for(const s of i){n=u(n,this._minMaxOnRangeCachedImpl(e-s.offset,t-s.offset,s.name))}return n}minMaxOnRange(e,t,i){if(this.isEmpty())return null;let n=null;for(const s of i){n=u(n,this._minMaxOnRange(e-s.offset,t-s.offset,s.name))}return n}merge(e){return this._shareRead?(a.logDebug("merge: readonly collection modification attempt"),null):0===e.length?null:this.isEmpty()||e[e.length-1].index<this._items[0].index?this._prepend(e):e[0].index>this._items[this._items.length-1].index?this._append(e):1===e.length&&e[0].index===this._items[this._items.length-1].index?(this._updateLast(e[0]),e[0]):this._merge(e)}addTail(e,t=!1){let i=0;t&&this._end-this._start>0&&(i=1,this._items[this._end-this._start-1].value=e[0].value);for(let t=i;t<e.length;++t){const i=e[t],n=this.lastIndex();if(null===n){a.logError("Can't add tail to the empty plotlist");break}this.add(n+1,i.value)}this._invalidateSearchCaches()}move(e){if(this._shareRead)return void a.logDebug("move: readonly collection modification attempt");if(0===e.length)return;const t=this._items.slice();for(const i of e){const e=this._bsearch(i.old,l);if(null!==e&&void 0!==t[e])if(i.new===r.INVALID_TIME_POINT_INDEX)t[e]=void 0;else{t[e]={index:i.new,value:t[e].value};const n=this._bsearch(i.new,l);if(null!==n){const e=t[n];void 0!==e&&e.index===i.new&&(t[n]=void 0)}}}this._items=t.filter((e=>void 0!==e)).sort(((e,t)=>e.index-t.index)),this._invalidateSearchCaches(),this._minMaxCache.clear(),this._start=0,this._end=this._items.length}remove(e){if(this._shareRead)return a.logDebug("remove: readonly collection modification attempt"),null;const t=this._nonCachedSearch(e,o.NearestRight,l);if(null===t)return null;const i=this._items.splice(t);return this._end=this._items.length,this._minMaxCache.clear(),this._invalidateSearchCaches(),i.length>0?i[0]:null}state(){return{start:this._start,end:this._end,data:this._items,shareread:this._shareRead}}restoreState(e){e?(this._start=e.start,this._end=e.end,this._shareRead=e.shareread,this._items=e.data,this._minMaxCache.clear(),this._invalidateSearchCaches()):this.clear()}_indexAt(e){return this._items[e].index}_valueAt(e){return this._items[e].value}_length(){return this._items.length}_searchImpl(e,t,i,n,s,r){const a=void 0!==r?i:n,o=void 0!==r?1e4*(t+1)+r:t;let h=a.get(e);if(void 0!==h){const e=h.get(o);if(void 0!==e)return e}const l=this._nonCachedSearch(e,t,s,r);if(null===l)return null;const c={index:this._indexAt(l),value:this._valueAt(l)};return void 0===h&&(h=new Map,a.set(e,h)),h.set(o,c),c}_nonCachedSearch(e,t,i,n){const s=this._lowerbound(e,i),r=s===this._end||e!==i(this._items[s]);if(r&&t!==o.Exact)switch(t){case o.NearestLeft:return this._searchNearestLeft(s,n);case o.NearestRight:return this._searchNearestRight(s,n);default:throw new TypeError("Unknown search mode")}if(void 0===n||r||t===o.Exact)return r?null:s;switch(t){case o.NearestLeft:return this._nonEmptyNearestLeft(s,n);case o.NearestRight:return this._nonEmptyNearestRight(s,n);default:
throw new TypeError("Unknown search mode")}}_nonEmptyNearestRight(e,t){const i=(0,n.ensure)(this._emptyValuePredicate),s=(0,n.ensure)(t);for(;e<this._end&&i(this._valueAt(e),s);)e+=1;return e===this._end?null:e}_nonEmptyNearestLeft(e,t){const i=(0,n.ensureNotNull)(this._emptyValuePredicate),s=(0,n.ensure)(t);for(;e>=this._start&&i(this._valueAt(e),s);)e-=1;return e<this._start?null:e}_searchNearestLeft(e,t){if(e===this._start)return null;const i=e-1,n=i!==this._end?i:null;return void 0!==t&&null!==n?this._nonEmptyNearestLeft(n,t):n}_searchNearestRight(e,t){const i=e,n=i!==this._end?i:null;return void 0!==t&&null!==n?this._nonEmptyNearestRight(n,t):n}_bsearch(e,t){const i=this._lowerbound(e,t);return i!==this._end&&e===t(this._items[i])?i:null}_lowerbound(e,t){return(0,s.lowerbound)(this._items,e,((e,i)=>t(e)<i),this._start,this._end)}_upperbound(e){return(0,s.upperbound)(this._items,e,((e,t)=>t.index>e),this._start,this._end)}_plotMinMax(e,t,i){let n=null;const s=this._plotFunctions.get(i);if(void 0===s)throw new Error(`Plot "${i}" is not registered`);for(let i=e;i<t;i++){const e=s(this._items[i].value);null==e||Number.isNaN(e)||(null===n?n={min:e,max:e}:(e<n.min&&(n.min=e),e>n.max&&(n.max=e)))}return n}_invalidateCacheForRow(e){const t=Math.floor(e.index/h);this._minMaxCache.forEach((e=>e.delete(t)))}_prepend(e){return(0,n.assert)(!this._shareRead,"collection should not be readonly"),(0,n.assert)(0!==e.length,"plotRows should not be empty"),this._invalidateSearchCaches(),this._minMaxCache.clear(),this._items=e.concat(this._items),this._start=0,this._end=this._items.length,e[0]}_append(e){return(0,n.assert)(!this._shareRead,"collection should not be readonly"),(0,n.assert)(0!==e.length,"plotRows should not be empty"),this._invalidateSearchCaches(),this._minMaxCache.clear(),this._items=this._items.concat(e),this._start=0,this._end=this._items.length,e[0]}_updateLast(e){(0,n.assert)(!this.isEmpty(),"plot list should not be empty");const t=this._items[this._end-1];(0,n.assert)(t.index===e.index,"last row index should match new row index"),this._invalidateCacheForRow(e),this._invalidateSearchCaches(),this._items[this._end-1]=e}_merge(e){return(0,n.assert)(0!==e.length,"plot rows should not be empty"),this._invalidateSearchCaches(),this._minMaxCache.clear(),this._items=_(this._items,e),this._start=0,this._end=this._items.length,e[0]}_minMaxOnRangeCachedImpl(e,t,i){if(this.isEmpty())return null;let s=null;const r=(0,n.ensureNotNull)(this.firstIndex()),a=(0,n.ensureNotNull)(this.lastIndex()),o=Math.max(e,r),l=Math.min(t,a),c=Math.ceil(o/h)*h,d=Math.max(c,Math.floor(l/h)*h);s=u(s,this._minMaxOnRange(o,Math.min(c,t,l),i));let _=this._minMaxCache.get(i);void 0===_&&(_=new Map,this._minMaxCache.set(i,_));for(let e=Math.max(c+1,o);e<d;e+=h){const t=Math.floor(e/h);let n=_.get(t);if(void 0===n){const e=t*h,s=(t+1)*h-1;n=this._minMaxOnRange(e,s,i),_.set(t,n)}s=u(s,n)}s=u(s,this._minMaxOnRange(d,l,i));return s}_minMaxOnRange(e,t,i){return this._plotMinMax(this._lowerbound(e,l),this._upperbound(t),i)}_invalidateSearchCaches(){
this._rowSearchCacheByIndex.clear(),this._rowSearchCacheByIndexWithoutEmptyValues.clear(),this._rowSearchCacheByTime.clear(),this._rowSearchCacheByTimeWithoutEmptyValues.clear()}}function u(e,t){if(null===e)return t;if(null===t)return e;return{min:Math.min(e.min,t.min),max:Math.max(e.max,t.max)}}function _(e,t){const i=function(e,t){const i=e.length,n=t.length;let s=i+n,r=0,a=0;for(;r<i&&a<n;)e[r].index<t[a].index?r++:e[r].index>t[a].index?a++:(r++,a++,s--);return s}(e,t),n=new Array(i);let s=0,r=0;const a=e.length,o=t.length;let h=0;for(;s<a&&r<o;)e[s].index<t[r].index?(n[h]=e[s],s++):e[s].index>t[r].index?(n[h]=t[r],r++):(n[h]=t[r],s++,r++),h++;for(;s<a;)n[h]=e[s],s++,h++;for(;r<o;)n[h]=t[r],r++,h++;return n}},926281:(e,t,i)=>{"use strict";var n;i.d(t,{PriceAxisLastValueMode:()=>n}),function(e){e[e.LastPriceAndPercentageValue=0]="LastPriceAndPercentageValue",e[e.LastValueAccordingToScale=1]="LastValueAccordingToScale"}(n||(n={}))},860949:(e,t,i)=>{"use strict";i.d(t,{createPrimitiveProperty:()=>r});var n=i(232567),s=i.n(n);function r(e){return new(s())(e)}},232567:(e,t,i)=>{"use strict";var n=i(97639),s=i(270617).isFunction;function r(e){if(this._listeners=new n,this._childs=[],this._muteChildChanges=!1,void 0!==e)if(this.isPrimitiveType(e))this._value=e;else for(var t in e)this.addProperty(t,e[t])}r.prototype.merge=function(e,t){var i=null;if(t)var n=(i=[]).length;if(void 0===e)return i;if(this.isPrimitiveType(e))return t&&this._value!==e&&i.push(this),this._value=e,i;if(Array.isArray(e))for(var s=0;s<e.length;s++)if(this[s]){var r=this[s].merge(e[s],t);t&&(i=i.concat(r))}else this.addProperty(s,e[s]),t&&i.push(this[s]);else for(var a in e)if(this[a]){r=this[a].merge(e[a],t);t&&void 0!==r&&(i=i.concat(r))}else this.addProperty(a,e[a]),t&&i.push(this[a]);return t&&i.length>n&&i.push(this),i},r.prototype.mergeAndFire=function(e){var t=this.merge(e,!0);this._muteChildChanges=!0,t.forEach((function(e){e._muteChildChanges=!0})),t.forEach((function(e){e._muteChildChanges=!1,e.listeners().fire(e)})),this._muteChildChanges=!1,t.length>0&&this.listeners().fire(this)},r.prototype.state=function(e){var t=s(this.value)?this.value():void 0;void 0===t&&(t={});for(var i=0;i<this._childs.length;i++){var n=this._childs[i];if(e&&-1!==e.indexOf(n))continue;const s=this[n];let h;if(e){for(var r=[],a=0;a<e.length;a++){var o=e[a];o.startsWith(n+".")&&r.push(o.substring(n.length+1))}h=s.state(r)}else h=s.state();(void 0!==h||s.storeStateIfUndefined())&&(t[n]=h)}return t},r.prototype.storeStateIfUndefined=function(){return!0},r.prototype.clone=function(e){return new r(this.state())},r.prototype.isPrimitiveType=function(e){return null===e||(!!isNumber(e)||(!!new TradingView.TypeValidator(String).check(e)||TradingView.isBoolean(e)))},r.prototype.value=function(){return this._value},r.prototype.listeners=function(){return this._listeners},r.prototype.childCount=function(){return this._childs.length},r.prototype.childNames=function(){return this._childs},r.prototype.child=function(e){return this[e]},r.prototype.setValue=function(e,t){
(this._value!==e||t)&&(this._value=e,this._listeners.fire(this))},r.prototype.setValueSilently=function(e){this._value=e},r.prototype.addProperty=function(e,t){var i=new r(t);this[e]=i,this._childs.push(e),i.subscribe(this,this.childChanged)},r.prototype.removeProperty=function(e){this[e].unsubscribe(this,this.childChanged),delete this[e],this._childs=this._childs.filter((function(t){return t!==e}))},r.prototype.hasChild=function(e){return this._childs.indexOf(e)>=0},r.prototype.addChild=function(e,t){this[e]&&this[e].unsubscribe(this,this.childChanged),this[e]=t,-1===this._childs.indexOf(e)&&this._childs.push(e),t.subscribe(this,this.childChanged)},r.prototype.childChanged=function(e,t){this._muteChildChanges||this.listeners().fire(this)},r.prototype.subscribe=function(e,t){this.listeners().subscribe(e,t,!1)},r.prototype.unsubscribe=function(e,t){this.listeners().unsubscribe(e,t)},r.prototype.unsubscribeAll=function(e){this.listeners().unsubscribeAll(e)},r.prototype.childs=function(){return this},e.exports=r},676745:(e,t,i)=>{"use strict";i.d(t,{INVALID_TIME_POINT_INDEX:()=>n});const n=-2e6},198820:(e,t,i)=>{"use strict";function n(){return Promise.all([i.e(22850),i.e(15107),i.e(55099),i.e(84845),i.e(50407),i.e(71452),i.e(45818),i.e(21015)]).then(i.bind(i,543020))}function s(){n().then((e=>e.createIdcAgreementDialog().open()))}function r(e){return n().then((t=>t.createIdcAgreementDelayDialog(e)))}function a(){return n().then((e=>e.createIdcDelayAddServiceDialog()))}i.r(t),i.d(t,{showIdcAgreementDialog:()=>s,createIdcDelayAgreementDialog:()=>r,createIdcDelayAddServiceDialog:()=>a})},912436:(e,t,i)=>{"use strict";async function n(e){(await Promise.all([i.e(10146),i.e(90519),i.e(8348),i.e(90926),i.e(48181),i.e(37135),i.e(8834),i.e(35354),i.e(30063),i.e(78941),i.e(99740),i.e(91670),i.e(53221),i.e(63280),i.e(77301),i.e(67161),i.e(34640),i.e(61543),i.e(19636),i.e(44119),i.e(29499),i.e(57561),i.e(73116),i.e(84458),i.e(91124),i.e(73477),i.e(75514),i.e(5043),i.e(9541),i.e(26646),i.e(93851),i.e(95854),i.e(11180),i.e(61932)]).then(i.bind(i,205355))).openExchangeAgreementDialog(e)}i.d(t,{showExchangeAgreementDialog:()=>n})},746511:(e,t,i)=>{"use strict";function n(e){let t;if("object"!=typeof e||null==e||"number"==typeof e.nodeType)t=e;else if(e instanceof Date)t=new Date(e.valueOf());else if(Array.isArray(e)){t=[];let i=0;const s=e.length;for(;i<s;i++)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=n(e[i]))}else{t={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=n(e[i]))}return t}i.d(t,{deepCopy:()=>n})},321658:(e,t,i)=>{"use strict";i.d(t,{addIDCCodes:()=>h});var n=i(86674),s=i(575932),r=(i(897116),i(345848)),a=i(637846),o=i(733255);function h(e){return(0,r.trackEvent)("IDC Add Delay Service","Agreed",e),(0,n.fetch)(`/idc-add-delay-service/${e}/`,{credentials:"include"}).then((e=>e.json())).then((e=>e.res===a.SymbolAvailabilityCodes.OK?0:1)).catch((()=>(function(e){(0,o.showNoticeDialog)({title:(0,s.t)("Failed to sign the Exchange Agreement"),content:(0,
s.t)("Unable to add exchange {exchange} to the agreement").format({exchange:e.toUpperCase()})})}(e),Promise.resolve(1))))}},397239:(e,t,i)=>{"use strict";i.d(t,{isUserNeedSignAgreement:()=>s,checkIfExchangeAvailable:()=>r,exchangeToProductId:()=>a});i(897116);var n=i(237037);function s(e){if(!(0,n.isIDCExchange)(e))return!1;e=a(e);const t=window.pro,i=t.getProduct(e);return void 0!==i.idc_service_codes_delay&&((!Array.isArray(i.included_exchanges)||!i.included_exchanges.some((e=>t.hasPackage(a(e)))))&&!function(e){const t=window.pro;return t.hasPackage(e)||t.hasPackage(e+"_dly")}(e))}function r(e){const t=window.pro;return new Promise((i=>{window.is_authenticated?!t.getIDCExchanges(!0).length||t.isInvalidShopConf()?t.updateShopConf().then((()=>{i(!s(e))})).catch((()=>{i(!0)})):i(!s(e)):i(!0)}))}function a(e){return e.startsWith("exchange-")?e:"exchange-{0}".format(e.toLowerCase())}},237037:(e,t,i)=>{"use strict";function n(e,t=!1){if(e&&e.startsWith("exchange-"))return function(e,t=!1){const i=window.pro,n=i.getProduct(e);return!!i.isProductDefined(n)&&(t?!!n.idc_service_codes_delay:!!n.idc_service_codes)}(e,t);const i=(e||"").toLowerCase();return window.pro.getIDCExchanges(t).includes(i)}i.d(t,{isIDCExchange:()=>n})},869584:(e,t,i)=>{"use strict";i.d(t,{checkSymbol:()=>L,isSymbolAvailable:()=>P,requestFallbackSymbol:()=>O});var n=i(575932),s=i(647757),r=i(198820),a=i(345848);var o=i(321658);const h=window.pro;function l(e){return new Promise((t=>{if(!(e=e&&e.toLowerCase()))return void t(!1);const n=i.c[337225];if(n&&n.exports.isOpenedModals())return void t(!1);let s=!1;(0,r.createIdcDelayAddServiceDialog)().then((n=>{n.open(),n.on("afterOpen",(()=>{(0,a.trackEvent)("IDC Add Delay Service","Dialog Shown",e)})),n.on("afterClose",(()=>{s||t(!1)})),n.on("action:add-service",(n=>{s=!0,n.destroy(),(0,o.addIDCCodes)(e).then((e=>{0===e?(h.invalidateShopConf(),h.updateShopConf(),async function(){const{showSubscriptionHasBeenChangedDialog:e}=await Promise.all([i.e(90519),i.e(90926),i.e(8834),i.e(30063),i.e(99740),i.e(77301),i.e(75966),i.e(31402),i.e(75514),i.e(24377),i.e(92697),i.e(38578),i.e(84268),i.e(89137),i.e(30870)]).then(i.bind(i,163592));e({pushReload:!0})}(),t(!0)):t(!1)}))}))}))}))}var c=i(237037),d=i(852490),u=i(637846),_=i(397239),m=i(749028),g=i(125226);var p=i(166437),f=i(629588),v=i(583912),y=i(416234);var x=i(49437),w=i(912436),E=i(911905),C=i(910288);const b="nse_dialog_key",A=(0,E.getLogger)("VorAgreementDialog"),S="NYSE",D=[S,"AMEX"],I="vorDialogKey",N=window.location.hostname.split("."),M=N.slice(1,N.length).join(".");function L(e){if((0,g.isFeatureEnabled)("nse_attention_popup")&&e&&e.startsWith("NSE")&&window.pro&&window.pro.isPro()){if(null!==x.TVLocalStorage.getItem(b))return void x.TVLocalStorage.removeItem(b);(0,f.createGoProDialog)({feature:"checkingNSE",closeOnOutsideClick:!1,closeOnEsc:!1,closeButton:!1,actions:[{text:n.t("Continue"),onClick:()=>{x.TVLocalStorage.setItem(b,"viewed"),window.open(`/chart/?symbol=${e}`,"_blank")}}]})}(0,g.isFeatureEnabled)("nyse_agreement")&&e&&D.forEach((t=>{var s
;e.startsWith(t)&&(null===(s=window.pro)||void 0===s?void 0:s.hasPackage((0,_.exchangeToProductId)(t)))&&async function(e){try{const t=await(0,m.isSignedExchangeAgreement)({exchange:e});if(!t.response&&!C.get(I)){C.set(I,"true",1,"/",M?`.${M}`:"");const[{showSimpleDialog:e},{SimpleConfirmDialog:t}]=await Promise.all([Promise.all([i.e(10146),i.e(90519),i.e(90926),i.e(48181),i.e(8834),i.e(35354),i.e(5979),i.e(30063),i.e(78941),i.e(91670),i.e(53221),i.e(95468),i.e(80580),i.e(68074),i.e(52498),i.e(92617),i.e(55508),i.e(28718),i.e(14059),i.e(21897),i.e(14421),i.e(75514),i.e(92697),i.e(66766),i.e(45553),i.e(32025),i.e(3566)]).then(i.bind(i,894185)),Promise.all([i.e(10146),i.e(90519),i.e(90926),i.e(48181),i.e(8834),i.e(35354),i.e(5979),i.e(30063),i.e(78941),i.e(91670),i.e(53221),i.e(95468),i.e(80580),i.e(68074),i.e(52498),i.e(92617),i.e(55508),i.e(28718),i.e(14059),i.e(21897),i.e(14421),i.e(75514),i.e(92697),i.e(66766),i.e(45553),i.e(32025),i.e(3566)]).then(i.bind(i,640553))]);e({text:n.t("It looks like you've skipped the {exchange} exchange agreement, which needs to be filled out in order to get data from the {exchange}. You can complete this simple step with just a few clicks.",{replace:{exchange:S}}),title:n.t("{exchange} exchange agreement needs to be filled out",{replace:{exchange:S}}),mainButtonText:n.t("Fill out {exchange} agreement",{replace:{exchange:S}}),showCancelButton:!1,onConfirm:e=>{(0,w.showExchangeAgreementDialog)({}),e.dialogClose()}},t)}}catch(e){A.logError(e.message)}}(t)}))}function P(e){return(0,s.check)(e).then((()=>(L(e),!0))).catch((e=>{if(e.errCode===u.SymbolAvailabilityCodes.DELAY_NOT_AVAILABLE)(0,f.createGoProDialog)({feature:"idcFreeUser",closeOnOutsideClick:!1,goOnMarkets:!0});else if((0,c.isIDCExchange)(e.exchange)){if(e.errCode===u.SymbolAvailabilityCodes.NEED_SIGN_AGREEMENT)return t=e.exchange,new Promise((e=>{if(!(t=t&&t.toLowerCase()))return void e(!1);const n=i.c[337225];n&&n.exports.isOpenedModals()?e(!1):(0,r.createIdcDelayAgreementDialog)({exchange:t}).then((i=>{i.on("afterOpen",(()=>{(0,a.trackEvent)("IDC Delay","Dialog Shown",t)})),i.on("afterClose",(()=>{e(!1)})),i.on("action:sign-agreement",(()=>{window.saver.saveChartSilently(),(0,a.trackEvent)("IDC Delay","Go on Agreement",t)})),i.open()}))}));if(e.errCode===u.SymbolAvailabilityCodes.NEED_ADD_SERVICE)return l(e.exchange)}var t;return Promise.resolve(!1)}))}function O(e,t){return new Promise((n=>{if("group_not_permitted"!==t.type)return void n(e);if(!t.symbolGroup)return void n(window.DEFAULT_SYMBOL);const s=t.symbolGroup;if((0,d.isSfFlag)(s)||s===y.SymbolGroup.McxFlag){const t=i.c[337225];if(t&&t.exports.isOpenedModals())return void n(window.DEFAULT_SYMBOL);r={exchange:(0,p.getExchange)(v.linking.symbol.value()),onSigninSuccess:()=>{n(e)},isRealtime:s===y.SymbolGroup.McxFlag},Promise.all([i.e(90519),i.e(90926),i.e(8834),i.e(30063),i.e(99740),i.e(77301),i.e(75966),i.e(64430),i.e(75514),i.e(92697),i.e(27901)]).then(i.bind(i,191445)).then((e=>e.createGoRegisterDialog(r))),P(e).then((t=>{t&&n(e)}))}var r;const a=(0,
y.getSymbolGroupData)(s);a?function(e){Promise.all([i.e(10146),i.e(90519),i.e(90926),i.e(8834),i.e(30063),i.e(99740),i.e(75966),i.e(62903),i.e(75514),i.e(92697),i.e(87279)]).then(i.bind(i,957157)).then((t=>t.createAvailableExchangeDialog(e)))}({width:600,title:a.title,content:a.description,destroy:()=>n(window.DEFAULT_SYMBOL)}):n(window.DEFAULT_SYMBOL)}))}},647757:(e,t,i)=>{"use strict";i.d(t,{check:()=>l});var n=i(166437),s=i(86674),r=i(560507),a=i(833813),o=i(397239),h=i(637846);function l(e,t=!0){return new Promise(((i,l)=>{const c=(0,n.getExchange)(e);c?(0,o.checkIfExchangeAvailable)(c).then((n=>n?i(e):(0,r.enabled)(a.ProductFeatures.IDC_AVAILABLE_DELAY)?t?void(0,s.fetch)(`/idc-sign-agreement-check/${c}/`,{credentials:"include"}).then((t=>t.json().then((t=>t.res===h.SymbolAvailabilityCodes.DELAY_NOT_AVAILABLE?l({exchange:c,errCode:t.res,reason:"delay not available",symbol:e}):t.res===h.SymbolAvailabilityCodes.NEED_SIGN_AGREEMENT?l({exchange:c,errCode:t.res,reason:"need sign agreement",symbol:e}):t.res===h.SymbolAvailabilityCodes.NEED_ADD_SERVICE?l({exchange:c,errCode:t.res,reason:"need add service",symbol:e}):i(e))))).catch((()=>{i(e)})):i(e):l({exchange:c,errCode:h.SymbolAvailabilityCodes.DELAY_NOT_AVAILABLE,reason:"delay not available",symbol:e}))):i(e)}))}},637846:(e,t,i)=>{"use strict";i.d(t,{SymbolAvailabilityCodes:()=>n});const n=JSON.parse('{"OK":"OK","ERR":"ERR","SYMBOL_NOT_AVAILABLE_FOR_ANON":"SYMBOL_NOT_AVAILABLE_FOR_ANON","DELAY_NOT_AVAILABLE":"DELAY_NOT_AVAILABLE","NEED_SIGN_AGREEMENT":"NEED_SIGN_AGREEMENT","NEED_ADD_SERVICE":"NEED_ADD_SERVICE"}')},416234:(e,t,i)=>{"use strict";i.d(t,{SymbolGroup:()=>n,getSymbolGroupData:()=>a});i(897116);var n,s=i(575932);!function(e){e.NseFlag="nse_free",e.McxFlag="mcx_free"}(n||(n={}));const r={[n.NseFlag]:{title:s.t("Data is not available"),description:s.t("NSE data is not available on the mobile app at this time. It may become available in the future.")}};function a(e){return r[e]?r[e]:null}}}]);